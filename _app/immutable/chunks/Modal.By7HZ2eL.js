import{a as x,n as we,c as Te,t as J}from"./disclose-version.BKaANA2z.js";import{p as Se,j as Ee,x as re,o as m,a as Fe,y as M,s as U,c as R,r as _,b as ke,t as De,z as V,aF as Ne}from"./runtime.BBsI4_9W.js";import{d as Ce}from"./render.CUMNnJOz.js";import{a as Ae,i as ae,b as ne}from"./index-client.BCMbb4t-.js";import{s as ie}from"./snippet.Bg5m6xfU.js";import{t as Le}from"./class.BCnLqSbc.js";import{p as W}from"./props.D_NRIrwj.js";import"./legacy.CPMm7L8q.js";/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var de=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],X=de.join(","),G=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Oe=function(e,t,n){var u=Array.prototype.slice.apply(e.querySelectorAll(X));return t&&G.call(e,X)&&u.unshift(e),u=u.filter(n),u},Ie=function(e){return e.contentEditable==="true"},ve=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?Ie(e)||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t},Pe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Z=function(e){return e.tagName==="INPUT"},Re=function(e){return Z(e)&&e.type==="hidden"},_e=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Be=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},xe=function(e){if(!e.name)return!0;var t=e.form||e.ownerDocument,n=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=n(window.CSS.escape(e.name));else try{u=n(e.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var i=Be(u,e.form);return!i||i===e},Me=function(e){return Z(e)&&e.type==="radio"},je=function(e){return Me(e)&&!xe(e)},He=function(e,t){if(getComputedStyle(e).visibility==="hidden")return!0;var n=G.call(e,"details>summary:first-of-type"),u=n?e.parentElement:e;if(G.call(u,"details:not([open]) *"))return!0;if(!t||t==="full")for(;e;){if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}else if(t==="non-zero-area"){var i=e.getBoundingClientRect(),f=i.width,c=i.height;return f===0&&c===0}return!1},Ge=function(e){if(Z(e)||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="BUTTON")for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var u=t.children.item(n);if(u.tagName==="LEGEND")return!u.contains(e)}return!0}t=t.parentElement}return!1},be=function(e,t){return!(t.disabled||Re(t)||He(t,e.displayCheck)||_e(t)||Ge(t))},pe=function(e,t){return!(!be(e,t)||je(t)||ve(t)<0)},Ye=function(e,t){t=t||{};var n=[],u=[],i=Oe(e,t.includeContainer,pe.bind(null,t));i.forEach(function(c,b){var h=ve(c);h===0?n.push(c):u.push({documentOrder:b,tabIndex:h,node:c})});var f=u.sort(Pe).map(function(c){return c.node}).concat(n);return f},oe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return G.call(e,X)===!1?!1:pe(t,e)},qe=de.concat("iframe").join(","),z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return G.call(e,qe)===!1?!1:be(t,e)};/*!
* focus-trap 6.7.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ue(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,n)}return t}function Ke(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(t),!0).forEach(function(n){Ue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ue(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var se=function(){var r=[];return{activateTrap:function(t){if(r.length>0){var n=r[r.length-1];n!==t&&n.pause()}var u=r.indexOf(t);u===-1||r.splice(u,1),r.push(t)},deactivateTrap:function(t){var n=r.indexOf(t);n!==-1&&r.splice(n,1),r.length>0&&r[r.length-1].unpause()}}}(),Ve=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},We=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},ze=function(e){return e.key==="Tab"||e.keyCode===9},ce=function(e){return setTimeout(e,0)},Q=function(e,t){var n=-1;return e.every(function(u,i){return t(u)?(n=i,!1):!0}),n},B=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,n):e},q=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Qe=function(e,t){var n=(t==null?void 0:t.document)||document,u=Ke({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),i={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},f,c=function(a,o,s){return a&&a[o]!==void 0?a[o]:u[s||o]},b=function(a){return!!(a&&i.containers.some(function(o){return o.contains(a)}))},h=function(a){var o=u[a];if(typeof o=="function"){for(var s=arguments.length,v=new Array(s>1?s-1:0),d=1;d<s;d++)v[d-1]=arguments[d];o=o.apply(void 0,v)}if(!o){if(o===void 0||o===!1)return o;throw new Error("`".concat(a,"` was specified but was not a node, or did not return a node"))}var g=o;if(typeof o=="string"&&(g=n.querySelector(o),!g))throw new Error("`".concat(a,"` as selector refers to no known node"));return g},k=function(){var a=h("initialFocus");if(a===!1)return!1;if(a===void 0)if(b(n.activeElement))a=n.activeElement;else{var o=i.tabbableGroups[0],s=o&&o.firstTabbableNode;a=s||h("fallbackFocus")}if(!a)throw new Error("Your focus-trap needs to have at least one focusable element");return a},S=function(){if(i.tabbableGroups=i.containers.map(function(a){var o=Ye(a);if(o.length>0)return{container:a,firstTabbableNode:o[0],lastTabbableNode:o[o.length-1]}}).filter(function(a){return!!a}),i.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},w=function l(a){if(a!==!1&&a!==n.activeElement){if(!a||!a.focus){l(k());return}a.focus({preventScroll:!!u.preventScroll}),i.mostRecentlyFocusedNode=a,Ve(a)&&a.select()}},A=function(a){var o=h("setReturnFocus",a);return o||(o===!1?!1:a)},D=function(a){var o=q(a);if(!b(o)){if(B(u.clickOutsideDeactivates,a)){f.deactivate({returnFocus:u.returnFocusOnDeactivate&&!z(o)});return}B(u.allowOutsideClick,a)||a.preventDefault()}},T=function(a){var o=q(a),s=b(o);s||o instanceof Document?s&&(i.mostRecentlyFocusedNode=o):(a.stopImmediatePropagation(),w(i.mostRecentlyFocusedNode||k()))},p=function(a){var o=q(a);S();var s=null;if(i.tabbableGroups.length>0){var v=Q(i.tabbableGroups,function(I){var P=I.container;return P.contains(o)});if(v<0)a.shiftKey?s=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:s=i.tabbableGroups[0].firstTabbableNode;else if(a.shiftKey){var d=Q(i.tabbableGroups,function(I){var P=I.firstTabbableNode;return o===P});if(d<0&&(i.tabbableGroups[v].container===o||z(o)&&!oe(o))&&(d=v),d>=0){var g=d===0?i.tabbableGroups.length-1:d-1,te=i.tabbableGroups[g];s=te.lastTabbableNode}}else{var O=Q(i.tabbableGroups,function(I){var P=I.lastTabbableNode;return o===P});if(O<0&&(i.tabbableGroups[v].container===o||z(o)&&!oe(o))&&(O=v),O>=0){var ge=O===i.tabbableGroups.length-1?0:O+1,ye=i.tabbableGroups[ge];s=ye.firstTabbableNode}}}else s=h("fallbackFocus");s&&(a.preventDefault(),w(s))},E=function(a){if(We(a)&&B(u.escapeDeactivates,a)!==!1){a.preventDefault(),f.deactivate();return}if(ze(a)){p(a);return}},L=function(a){if(!B(u.clickOutsideDeactivates,a)){var o=q(a);b(o)||B(u.allowOutsideClick,a)||(a.preventDefault(),a.stopImmediatePropagation())}},N=function(){if(i.active)return se.activateTrap(f),i.delayInitialFocusTimer=u.delayInitialFocus?ce(function(){w(k())}):w(k()),n.addEventListener("focusin",T,!0),n.addEventListener("mousedown",D,{capture:!0,passive:!1}),n.addEventListener("touchstart",D,{capture:!0,passive:!1}),n.addEventListener("click",L,{capture:!0,passive:!1}),n.addEventListener("keydown",E,{capture:!0,passive:!1}),f},F=function(){if(i.active)return n.removeEventListener("focusin",T,!0),n.removeEventListener("mousedown",D,!0),n.removeEventListener("touchstart",D,!0),n.removeEventListener("click",L,!0),n.removeEventListener("keydown",E,!0),f};return f={activate:function(a){if(i.active)return this;var o=c(a,"onActivate"),s=c(a,"onPostActivate"),v=c(a,"checkCanFocusTrap");v||S(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,o&&o();var d=function(){v&&S(),N(),s&&s()};return v?(v(i.containers.concat()).then(d,d),this):(d(),this)},deactivate:function(a){if(!i.active)return this;clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,F(),i.active=!1,i.paused=!1,se.deactivateTrap(f);var o=c(a,"onDeactivate"),s=c(a,"onPostDeactivate"),v=c(a,"checkCanReturnFocus");o&&o();var d=c(a,"returnFocus","returnFocusOnDeactivate"),g=function(){ce(function(){d&&w(A(i.nodeFocusedBeforeActivation)),s&&s()})};return d&&v?(v(A(i.nodeFocusedBeforeActivation)).then(g,g),this):(g(),this)},pause:function(){return i.paused||!i.active?this:(i.paused=!0,F(),this)},unpause:function(){return!i.paused||!i.active?this:(i.paused=!1,S(),N(),this)},updateContainerElements:function(a){var o=[].concat(a).filter(Boolean);return i.containers=o.map(function(s){return typeof s=="string"?n.querySelector(s):s}),i.active&&S(),this}},f.updateContainerElements(e),f};function Xe(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var K=!1;if(typeof window<"u"){var le={get passive(){K=!0}};window.addEventListener("testPassive",null,le),window.removeEventListener("testPassive",null,le)}var $=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),y=[],C=!1,ee=-1,j=void 0,H=void 0,he=function(e){return y.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},Y=function(e){var t=e||window.event;return he(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},Je=function(e){if(H===void 0){var t=!!e,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(H=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}j===void 0&&(j=document.body.style.overflow,document.body.style.overflow="hidden")},me=function(){H!==void 0&&(document.body.style.paddingRight=H,H=void 0),j!==void 0&&(document.body.style.overflow=j,j=void 0)},Ze=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},$e=function(e,t){var n=e.targetTouches[0].clientY-ee;return he(e.target)?!1:t&&t.scrollTop===0&&n>0||Ze(t)&&n<0?Y(e):(e.stopPropagation(),!0)},et=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!y.some(function(u){return u.targetElement===e})){var n={targetElement:e,options:{}};y=[].concat(Xe(y),[n]),$?(e.ontouchstart=function(u){u.targetTouches.length===1&&(ee=u.targetTouches[0].clientY)},e.ontouchmove=function(u){u.targetTouches.length===1&&$e(u,e)},C||(document.addEventListener("touchmove",Y,K?{passive:!1}:void 0),C=!0)):Je(t)}},tt=function(){$?(y.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),C&&(document.removeEventListener("touchmove",Y,K?{passive:!1}:void 0),C=!1),ee=-1):me(),y=[]},rt=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}y=y.filter(function(t){return t.targetElement!==e}),$?(e.ontouchstart=null,e.ontouchmove=null,C&&y.length===0&&(document.removeEventListener("touchmove",Y,K?{passive:!1}:void 0),C=!1)):y.length||me()},at=we('<svg height="12pt" width="12pt" viewBox="0 0 329.26933 329" xmlns="http://www.w3.org/2000/svg"><path d="m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"></path></svg>');function nt(r){var e=at();x(r,e)}const fe=(r,e,t)=>{M(e,!1),t()()};function it(r,e){r.key==="Escape"&&M(e,!1)}var ot=J("<button>Open Modal</button>"),ut=J('<dialog class="modal svelte-aip1fa"><div class="backdrop svelte-aip1fa"></div> <div class="content-wrapper svelte-aip1fa"><header class="flex flex-row justify-end"><button aria-label="Close modal"><!></button></header> <div class="content svelte-aip1fa"><!></div></div></dialog>'),st=J("<!> <!>",1);function mt(r,e){Se(e,!0);let t=W(e,"isVisible",3,!1),n=W(e,"onOpen",3,()=>{}),u=W(e,"onClose",3,()=>{}),i=V(void 0),f=V(void 0),c,b=V(!1);const h=()=>{console.log("open called"),M(b,!0),n()()};Ae(()=>{tt()});async function k(){m(i)!==void 0&&(await Ne(),c=Qe(m(i),{escapeDeactivates:!1,fallbackFocus:m(f),preventScroll:!0}),c.activate(),et(m(i)))}function S(){c==null||c.deactivate(),m(i)&&rt(m(i))}Ee(()=>{m(b)?k():m(b)||S()});var w=st(),A=re(w);ae(A,()=>e.trigger,T=>{var p=Te(),E=re(p);ie(E,()=>e.trigger,()=>h),x(T,p)},T=>{var p=ot();p.__click=h,x(T,p)});var D=U(A,2);ae(D,()=>m(b),T=>{var p=ut();p.__keydown=[it,b];var E=R(p);E.__click=[fe,b,u];var L=U(E,2),N=R(L),F=R(N);F.__click=[fe,b,u];var l=R(F);nt(l),_(F),ne(F,s=>M(f,s),()=>m(f)),_(N);var a=U(N,2),o=R(a);ie(o,()=>e.content??ke),_(a),_(L),_(p),ne(p,s=>M(i,s),()=>m(i)),De(()=>Le(p,"visible",t())),x(T,p)}),x(r,w),Fe()}Ce(["click","keydown"]);export{mt as M};
